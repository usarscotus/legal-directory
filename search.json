---
layout: null
permalink: /search.json
---
[
{% assign combined_docs = "" | split: "" %}
{% for doc in site.html_pages %}
  {% unless doc.search_exclude == true %}
    {% assign combined_docs = combined_docs | push: doc %}
  {% endunless %}
{% endfor %}
{% for collection in site.collections %}
  {% for doc in collection.docs %}
    {% unless doc.search_exclude == true %}
      {% assign combined_docs = combined_docs | push: doc %}
    {% endunless %}
  {% endfor %}
{% endfor %}
{% assign unique_docs = combined_docs | uniq %}
{% for doc in unique_docs %}
  {% assign parts = doc.url | downcase | split: '/' %}
  {% assign section = "" %}
  {% for p in parts %}
    {% if p == "supct" or p == "frcp" or p == "frcmp" or p == "fre" or p == "frap" %}
      {% assign section = p %}
    {% endif %}
  {% endfor %}

  {% case section %}
    {% when "supct" %}
      {% assign parent = "Supreme Court Rules" %}
    {% when "frcp" %}
      {% assign parent = "Federal Rules of Civil Procedure" %}
    {% when "frcmp" %}
      {% assign parent = "Federal Rules of Criminal Procedure" %}
    {% when "fre" %}
      {% assign parent = "Federal Rules of Evidence" %}
    {% when "frap" %}
      {% assign parent = "Federal Rules of Appellate Procedure" %}
    {% else %}
      {% assign parent = "Other" %}
  {% endcase %}

  {
    "title": {{ doc.title | jsonify }},
    "url": "{{ site.baseurl }}{{ doc.url }}",
    "content": {{ doc.content | strip_html | normalize_whitespace | jsonify }},
    "breadcrumb_parent": {{ parent | jsonify }},
    "collection": {{ section | jsonify }}
  }{% unless forloop.last %},{% endunless %}
{% endfor %}
]
